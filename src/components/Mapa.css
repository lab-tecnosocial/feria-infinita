.filtro-button {
    position: fixed;
    right: 20px;
    top: 20px;
    z-index: 1000;
}

/* Estilo para el filtro de tema */
.tema-filter {
    position: absolute;
    top: 20px;
    right: 20px;
    z-index: 1000;
    background-color: transparent;
    border-radius: 5px;
    padding: 5px;
}

/* Estilos para la leyenda */
.map-legend {
    position: absolute;
    bottom: 20px;
    left: 20px;
    /* Cambiado de right a left */
    background-color: rgba(255, 255, 255, 0.7);
    padding: 10px;
    border-radius: 5px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
    z-index: 1000;
    max-height: 500px;
    overflow-y: auto;
    width: 180px;
    font-family: 'Roboto', sans-serif;
    /* AÃ±adimos la fuente Roboto */
}

.map-legend h4 {
    margin-top: 0;
    margin-bottom: 10px;
    font-size: 14px;
    font-weight: bold;
    text-align: center;
    border-bottom: 1px solid #ddd;
    padding-bottom: 5px;
}

.legend-item {
    display: flex;
    align-items: center;
    margin-bottom: 5px;
    cursor: pointer;
    padding: 3px 6px;
    border-radius: 3px;
    transition: background-color 0.2s;
}

.legend-item:hover {
    background-color: rgba(0, 0, 0, 0.1);
}

.legend-item.selected {
    background-color: rgba(51, 136, 255, 0.2);
    border: 1px solid #3388ff;
}

.legend-color {
    display: inline-block;
    width: 16px;
    height: 16px;
    border-radius: 50%;
    margin-right: 8px;
    border: 1px solid #999;
}

.legend-label {
    font-size: 12px;
    transition: color 0.2s;
}

.legend-item:hover .legend-label {
    color: #3388ff;
    text-decoration: underline;
}

.legend-note {
    font-size: 10px;
    font-style: italic;
    color: #555;
    margin-top: 5px;
    padding-top: 5px;
    border-top: 1px dashed #ddd;
}

.legend-counter {
    font-size: 11px;
    color: #666;
    margin-bottom: 8px;
    text-align: center;
    font-style: italic;
}

/* Juan Downey Color Palette */
:root {
    --downey-blue: #4A90E2;
    --downey-teal: #50E3C2;
    --downey-green: #7ED321;
    --downey-yellow: #F5A623;
    --downey-red: #D0021B;
    --downey-purple: #9013FE;
    --downey-primary: #512876;
}

/* Spiral Lines Styles */
.spiral-arc {
    animation: arcDraw 1.5s ease-out forwards;
    vector-effect: non-scaling-stroke;
    stroke-linecap: round;
    stroke-linejoin: round;
}

@keyframes arcDraw {
    from {
        stroke-dasharray: 500;
        stroke-dashoffset: 500;
        opacity: 0;
    }
    to {
        stroke-dasharray: 500;
        stroke-dashoffset: 0;
        opacity: 0.8;
    }
}

/* Ensure spiral pane stays visible at all zoom levels */
.leaflet-spiral-pane {
    pointer-events: none !important;
    z-index: 400 !important;
}

.leaflet-spiral-pane svg {
    pointer-events: none !important;
}

.leaflet-spiral-pane path {
    vector-effect: non-scaling-stroke !important;
}

/* City Selector Enhancements */
.city-selector-container {
    backdrop-filter: blur(5px);
    border: 1px solid rgba(81, 40, 118, 0.2);
}

.city-selector-container:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 20px rgba(0,0,0,0.15);
    transition: all 0.3s ease;
}

/* Formulario Feria Styles */
.formulario-feria {
    font-family: 'Montserrat', sans-serif;
}

.formulario-feria .MuiTextField-root {
    background-color: rgba(255, 255, 255, 0.9);
}

.formulario-feria .MuiSelect-root {
    background-color: rgba(255, 255, 255, 0.9);
}

/* Custom scrollbar for form */
.formulario-feria::-webkit-scrollbar {
    width: 6px;
}

.formulario-feria::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.1);
}

.formulario-feria::-webkit-scrollbar-thumb {
    background: rgba(81, 40, 118, 0.3);
    border-radius: 3px;
}

.formulario-feria::-webkit-scrollbar-thumb:hover {
    background: rgba(81, 40, 118, 0.5);
}